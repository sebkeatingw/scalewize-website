(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1154:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1469:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{default:function(){return n},getImageProps:function(){return i}});let a=t(8466),r=t(1264),l=t(3063),o=a._(t(1193));function i(e){let{props:s}=(0,r.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}}let n=l.Image},1758:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),r=t(2115),l=t(5695),o=t(6874),i=t.n(o),n=t(6766),c=t(1154),d=t(8749),u=t(2657),m=t(2409);function p(){let[e,s]=(0,r.useState)(""),[t,o]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),[y,g]=(0,r.useState)(""),[b,j]=(0,r.useState)(!0),w=(0,l.useRouter)(),N=(0,l.useSearchParams)().get("redirectTo")||"/dashboard";(0,r.useEffect)(()=>{m.N.auth.getSession().then(async e=>{let{data:{session:s}}=e;if(s&&s.user&&(!s.expires_at||1e3*s.expires_at>Date.now())){let{data:e,error:t}=await m.N.from("profiles").select("*").eq("id",s.user.id).single();e&&!t?w.push("/dashboard"):(await m.N.auth.signOut(),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{e.includes("sb-")&&(document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/"))}),j(!1))}else j(!1)})},[w]);let v=async s=>{s.preventDefault(),x(!0),g("");try{let{data:s,error:a}=await m.N.auth.signInWithPassword({email:e,password:t});if(a){g(a.message),x(!1);return}if(!s||!s.user){g("No user returned from Supabase"),x(!1);return}let{data:r,error:l}=await m.N.from("profiles").select("*").eq("id",s.user.id).single();r&&!l?window.location.href=N:(g("Profile not found"),x(!1))}catch(e){g("Unexpected error"),x(!1)}};return b?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"h-8 w-8 animate-spin text-blue-600"})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",style:{background:"#f8f7f4",fontFamily:"Arial, Helvetica, sans-serif"},children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(n.default,{src:"/scalewize_cover_logo.png",alt:"ScaleWize AI Cover Logo",width:360,height:80,className:"h-24 w-auto"})}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-bold",style:{color:"#595F39"},children:"Sign in"}),(0,a.jsx)("p",{className:"mt-2 text-sm",style:{color:"#000"},children:"Communicate and work with your team of AI agents, implemented across your company"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:v,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"#000"},children:"Email address"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>s(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2",style:{color:"#000","--tw-ring-color":"#595F39"},placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"#000"},children:"Password"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"current-password",required:!0,value:t,onChange:e=>o(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 pr-10",style:{color:"#000","--tw-ring-color":"#595F39"},placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!p),children:p?(0,a.jsx)(d.A,{className:"h-5 w-5",style:{color:"#595F39"}}):(0,a.jsx)(u.A,{className:"h-5 w-5",style:{color:"#595F39"}})})]})]})]}),y&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:y}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"#595F39","--tw-ring-color":"#595F39"},children:h?(0,a.jsx)(c.A,{className:"h-5 w-5 animate-spin"}):"Sign in"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm",style:{color:"#000"},children:["Don't have an account?"," ",(0,a.jsx)(i(),{href:"/signup",className:"font-medium",style:{color:"#595F39"},children:"Sign up"})]})})]})]})})}function f(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(p,{})})}},1987:(e,s,t)=>{Promise.resolve().then(t.bind(t,1758))},2409:(e,s,t)=>{"use strict";t.d(s,{N:()=>a});let a=(0,t(2121).createBrowserClient)("https://mtybaactacapokejmtxy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im10eWJhYWN0YWNhcG9rZWptdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3MTE5MTMsImV4cCI6MjA2NzI4NzkxM30.u9EudibnPY-rGAFX4E2TfCgyKEBa9_7a2nojUcICJGQ")},2657:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6766:(e,s,t)=>{"use strict";t.d(s,{default:()=>r.a});var a=t(1469),r=t.n(a)},8749:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[864,874,63,441,684,358],()=>s(1987)),_N_E=e.O()}]);